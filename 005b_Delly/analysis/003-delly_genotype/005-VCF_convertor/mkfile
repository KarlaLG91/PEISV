## DESCRIPTION:
## mk module for the conversion of BCF files generated by the mk-delly_pipeline, into VCF format. 
## The script uses BCFtools to convert BCF files into VCF format. 
##
## USAGE:
## Alternative 1: Single target execution.
##      `mk <SPECIFIC_TARGET>`; where SPECIFIC_TARGET is any line printed by the `/bin/create-targets` script in this module.
##
## Alternative 2: Multiple target tandem execution.
##      `bin/targets | xargs mk`
##
## AUTHOR:
##      Karla Lozano (klg1219sh@gmail.com), for Winter Genomics (http://www.wintergenomics.com/) - 2018

MKSHELL=/bin/bash

# Convert BCF files to VCF format.
#
results/%.vcf:: data/%.bcf
	set -x
	mkdir -p $(dirname $target)
	bcftools view -O v $prereq -o $target.build \
	&& mv $target.build $target

### Add a "clean" recipe to quickly remove results directory
clean:V:
	rm -r results/
